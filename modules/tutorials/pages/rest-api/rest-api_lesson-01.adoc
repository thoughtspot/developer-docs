= Lesson 01: What is a REST API?
:page-pageid: rest-api_lesson-01
:description: Introduction to REST APIs in general
:toc: true
:toclevels: 1

== Overview
REST APIs are APIs that use web browser technology (HTTP) to send commands to a web server, which then does the requested actions and returns a response back to the command's sender.

HTTP is the communication protocol, so both sides can talk regardless of internal details.

Each specific command is called an endpoint, which is the URL of the command.

Any programming language or environment can use REST APIs with proper HTTP communication.

== HTTP Requests

HTTP requests are composed of: 

* the endpoint URL
* HTTP verb
* headers 
* an optional body

=== HTTP Verbs
There are 4 common request verbs: GET, POST, PUT, DELETE

[horizontal]
GET:: read, no body, can have parameters on the URL
POST:: create, typically has a body
PUT:: update, typically has a body
DELETE:: delete, often only has a URL (but some systems use a body)

[NOTE]
====
ThoughtSpot REST API V2.0 only uses *GET* and *POST* verbs. 

The full endpoint name includes the action the endpoint will take, rather than the same endpoint responding to different HTTP verbs.
====

=== HTTP Headers
Headers describe aspects of the request, and are mandatory for any given endpoint. 

ThoughtSpot's V2.0 REST API typically requires the following headers:

 Content-Type: application/json
 Accept: application/json
 Authorization: Bearer {access-token}

The endpoints to request access tokens do not require the `Authorization` header (they are the source of the tokens).

Endpoints that return something other than a JSON response do not use the `Accept: application/json` header.

=== HTTP Body
Body is data sent with the request, that does not appear in the URL (is secure). The body will vary with each endpoint, and some endpoints do not require a body at all 

== HTTP Responses
Each HTTP request will result in some action within the web server and then a *response*. 

For *GET* requests, the only expected action is a *response* with some element. For example, the `/search` endpoints within the V2.0 REST API are *GET* requests that return sets of information about the system.

Other types of requests cause a state change on the server, and then a response describing the new state after the action has completed. 

=== HTTP response codes: successes and errors

=== JSON response format

=== Response examples in the REST API Playground


== REST API Specifications
While the HTTP communication method is standardized, the exact things to send and what will be received are different for every API 

The Specifications of an API will describe each endpoint:

* The endpoint itself (the full URL will be combo of server, API URL path, and the endpoint):
** Ex. https://{subdomain}.thoughtspot.cloud/api/rest/2.0/metadata/search
* The HTTP verb and headers to send
* The body of a request
* The expected response from the request, and any expected actions on the system caused by using the endpoint

Examples are often given using link:https://curl.se/[cURL, target=_blank] which is the standard Linux command line tool for issuing direct HTTP commands

=== ThoughtSpot REST API Playground
Every instance of ThoughtSpot has a REST API V2.0 Playground which is both the *specification* of the API and an interactive system for building and issuing API commands.

image::images/tutorials/rest-api/rest_api_playground_labeled.png[REST API V2.0 Playground, title="Specification elements within the REST API V2.0 Playground."]



'''

xref:rest-api_lesson-02.adoc[Next: Lesson 02 >]
