= Create and manage custom actions
:toc: true
:toclevels: 2

:page-title: Create and manage custom actions
:page-pageid: customize-actions
:page-description: Create and manage custom actions

To allow ThoughtSpot users to quickly act on the data they analyze, xref:custom-actions.adoc[custom actions] must be defined and configured within ThoughtSpot.

ThoughtSpot users with developer or admin privileges can create various types of custom actions in the **Develop ** tab and make them available on a saved Answer or visualization page.

////
[div boxDiv boxFullWidth]
--
+++<h5>Feature highlights</h5>+++

* You can create custom actions in the **Develop** tab.
* Users with developer or admin privileges can create custom actions.
* Developers can limit a custom action's availability to a specific user group.
* Developers or administrators can set an action as a **Global** or **Local** action.
* Global actions appear as menu actions on all visualizations.
* ThoughtSpot users with edit privileges can add a local custom action to a worksheet, saved Answer, or visualization.
--
////

To view the *Custom actions* management page, go to *Develop* > *Customizations* > *Custom actions*.  

The *Custom actions* page displays the **Create action** button, and the *Overview* and *Actions* tabs.

== Create action button

The *Create action* button allows you to create the following types of actions:

////
App actions::
An xref:app-actions.adoc[app action] connects a ThoughtSpot instance to an external app and pushes  data to a user's business workspace; for example, Slack. 
////

Callback actions::
A xref:custom-actions-callback.adoc[callback action] triggers a callback event to the parent application and then pushes the Answer or visualization data in a response payload.

URL actions::
A xref:custom-actions-url.adoc[URL action] sends data from an Answer or visualization to a specific URL in a `POST` request.

Developers or administrators can set a custom action as a global or local action.

Global actions::

By default, a global action appears as a menu action in the **More** image:./images/icon-more-10px.png[the more options menu]menu on all visualizations. 

+
Authorized users can edit the position of a global action on a visualization or saved Answer by using the edit icon in the *Custom actions* panel.

Local actions::

Local actions are not assigned to any visualization by default. Developers can create a local action and let users add this action to a specific visualization or the answers built from a specific worksheet. 
+
Any user with edit access to a visualization or worksheet can assign a local action xref:custom-actions-viz.adoc[to a specific visualization] or xref:custom-actions-worksheet.adoc[all new visualizations generated from a specific worksheet]. 

[#access-control]
User access control:: 
For granular access control, developers can restrict a custom action's availability to a specific group. The **Show advanced availability** setting in the custom action creation page allows you to associate a custom action to one or several groups. 

[NOTE]
====
In embedded ThoughtSpot instances, developers can also use the `visibleActions`, `hiddenActions`, and `disabledActions` properties to xref:embed-actions.adoc[show, hide, and disable a custom action]. 
====

[#add-callback]
=== Create a callback custom action

Before you begin, make sure you have the developer privileges to add a custom action in the Developer portal.

. Go to *Develop* > *Customizations* > *Custom actions*.
. Click *Create action*.
. Add a label for the custom action. For example, __Send Data__.
. Select the *Callback* option.
. Note the callback action ID.

+
The callback ID is used as a unique reference in the Visual Embed SDK to handle the callback event. You can also use this ID to disable, show, or hide the callback action in the embedded app.

+
By default, custom actions are added to all Liveboard visualizations and saved Answers and set as Global. If you want to add this action only to specific visualizations, clear the *On by default on all visualizations* checkbox.

. To restrict action availability to specific user groups, click *Show advanced availability settings*, and select the groups.    

. Click *Create action*.
+
The custom action is added to the *Actions* dashboard in the Developer portal.

. To view and verify the custom action you just created, navigate to a visualization page.

include::{path}/global-local-action.adoc[]


[#creUrlAction]
=== Create a URL action

Before you begin: 

* Make sure you have the developer or admin privileges to create a custom action.
* If a URL action is intended to be used by the embedded ThoughtSpot user, add the URL to the xref:security-settings.adoc[CORS and CSP connect-src allowlist].

To create a URL action, complete the following steps:

. Go to *Develop* > *Customizations* > *Custom actions*.
. Click *Create action*.
. Add a label for the custom action. For example, __Send Email__.
. Make sure the *URL* option is selected.
. Add the target URL that you want to invoke when a user clicks this action in the UI.
+
[NOTE]
====
The URL-based custom actions do not support the `localhost` hostname. Therefore, use the IP address `127.0.0.1` instead of `localhost` when specifying the target URL.
====

+
Note that the custom action ID is generated automatically. 

+
. To view additional settings, click *Show URL settings*.
. From the *Authorization* drop-down, select an authentication method. ThoughtSpot will use the specified authentication method to invoke the URL or make an API call.
+
[IMPORTANT]
The authentication information you specify in these fields is visible to other authenticated users, even if they do not have Developer or Admin privileges.

None::
If you do not want to use an authentication method, select `None`. 

Basic authentication::
Select this authentication method if your server requires ThoughtSpot to pass the authentication information, such as `username` and `password` in the `Authorization` header. If selected, enter the `username` and `password`.

Bearer::
Select this authentication method if your server requires ThoughtSpot to obtain a security token and send the token in the `Authorization` headers during an API call. Specify the security `token` to use for authentication and authorization.  

API key::
Select this authentication method if you want ThoughtSpot to use an API key during API calls to the URL target. Specify the API key value to use in the `X-API-Key` request header. 

+
. If the URL endpoint requires specific data for the custom action workflow, you can configure the action to send these attributes as query parameters. For example, you may want to send database information in query parameters to the URL endpoint when the action workflow is triggered. Make sure these query parameters are defined as key-value pairs.
 
. To add this action to all visualizations and saved Answer pages, select *On by default on all visualizations*.
+
If you do not select this checkbox, the URL action will be set as a *Local* action.  

. To restrict action availability to specific user groups, click *Show advanced availability settings*, and select the groups.      
 
. Click *Create action*.
+
The custom action is added to the *Actions* dashboard in the Developer portal.

. To view the custom action you just created, navigate to a visualization or saved Answer page.

include::{path}/global-local-action.adoc[]

== Overview tab

The *Overview* tab shows the possible locations for placing a custom action in the ThoughtSpot UI. 

You can add a custom action in the primary menu bar, or as a menu action in the **More** image:./images/icon-more-10px.png[the more options menu] menu or the contextual menu that appears when a user right-clicks on an Answer or Liveboard visualization.

By default, ThoughtSpot adds all custom actions to the **More** image:./images/icon-more-10px.png[the more options menu] menu. 

If you want to send only a single row of data instead of the entire data set obtained from a visualization, you can place the custom action in the contextual menu. 

To change the position of an existing custom action, click the custom action icon image:./images/custom-action-icon.png[custom action icon] on a saved Answer page, and then click the edit icon next to the custom action in the *Custom action* panel.

== Actions tab

The *Actions* tab lists the actions created on your ThoughtSpot instance. 

* To edit an action, go to **More** image:./images/icon-more-10px.png[the more options menu] menu > **Edit**.
* To delete an action, click **More** image:./images/icon-more-10px.png[the more options menu] menu > **Delete**.
