= Embed Spotter in Salesforce
:toc: true
:toclevels: 2

:page-title: Embed Spotter in Salesforce
:page-pageid: spotter-embed-sf
:page-description: Embed conversational analytics with Spotter in Salesforce

Developers can integrate Spotter[beta betaBackground]^Beta^ directly into the Salesforce platform to enable the CRM application users to access real-time analytics through an intuitive interface that supports natural language queries. With this seamless integration, Salesforce users can engage directly with Spotter to ask analytics questions and receive relevant insights, charts, or visualizations instantly.

This article provides step-by-step instructions on embedding Spotter in Salesforce in an iFrame without using the Visual Embed SDK.


== Before you begin

* Check if you have access to a ThoughtSpot instance. Note the application URL.
* Ensure that you have a Salesforce account with developer access.
* Add Salesforce application URLs as CSP visual embed hosts and set frame-ancestors:
+
. On your ThoughtSpot instance, navigate to *Develop* > *Customizations* > *Security Settings*.
. Click *Edit*.
. Add the following domains to *CSP visual embed hosts*.
+
`\https://*.my.salesforce.com`
+
`\https://*.lightning.force.com`

. Click *Save changes*.

== Embed Spotter in the Salesforce Portal

To embed Spotter as a tab within Salesforce, complete these steps:

. Log in to your ThoughtSpot instance using Basic authentication with your username and password.
. Log in to Salesforce with developer credentials.
. In the Salesforce portal, click the *Setup* icon.
+
[.bordered]
[.widthAuto]
image::./images/setup-sf.png[Salesforce setup for Spotter]
. On the *Setup* page, search for tabs and select *Tabs*.
+
[.bordered]
[.widthAuto]
image::./images/search-tab.png[search tabs]
. Scroll to the *Web tabs* section and click *New*.
+
[.bordered]
[.widthAuto]
image::./images/create-tab.png[Tab for Spotter]
. In the *New Web Tab* view, configure the following attributes:
.. Select *Full page width* and click *Next*.
+
[.bordered]
[.widthAuto]
image::./images/full-width-sf.png[full page width]
.. Set the *Tab Type* to *URL* and specify the tab name.
.. Select a tab style. For example, *Umbrella*, and set *Content Frame Height (pixels)* to 800.
+
[.bordered]
[.widthAuto]
image::./images/tab-config-sf.png[Set page width]

.. Click *Next*.
.. Specify the ThoughtSpot instance URL from which you want to embed Spotter, and then click *Next*. +
+
[.bordered]
[.widthAuto]
image::./images/spotter-url-sf.png[Spotter URL]
.. Set tab visibility.
+
[.bordered]
[.widthAuto]
image::./images/tab-visibility-sf.png[tab visibility setting]
.. Select *Apply one tab visibility to all profiles* and click *Next*.
.. Click *Save*.
. Click the App Launcher icon and then click *Sales*. +

+
[.bordered]
[.widthAuto]
image::./images/sales-page-sf.png[Sales page]
+
Notice that Spotter is embedded as a tab on the *Sales* page.


== Test your embed

. Click the *Spotter* tab and select a Worksheet or Model as the data source for Spotter queries.
+
[.bordered]
[.widthAuto]
image::./images/spotter-ws-selection-sf.png[Spotter tab]

. Initiate the conversation with Spotter by sending a query.
. View the resulting data in *Salesforce Lightning Experience* or *Salesforce Classic* mode.
+
[.bordered]
[.widthAuto]
image::./images/sf-classic.png[Salesforce Classic]

+
[.bordered]
[.widthAuto]
image::./images/sf-lightning-exp.png[Salesforce Lightning experience]

. Send a follow-up query and analyze the answer generated by Spotter.








